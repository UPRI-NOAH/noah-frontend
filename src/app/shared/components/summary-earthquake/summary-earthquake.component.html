<!-- MODAL -->
<div class="relative z-50" *ngIf="earthquakeSummaryModal">
  <div
    class="fixed inset-0 bg-black opacity-80 transition-opacity"
    (click)="closeModal()"
  ></div>

  <div class="fixed inset-0 z-10 overflow-y-auto">
    <div
      class="
        flex
        min-h-full
        justify-center
        p-4
        text-center
        items-center
        xl:px-48
      "
    >
      <div
        class="
          relative
          transform
          overflow-hidden
          rounded-lg
          bg-blue-50
          px-4
          py-4
          text-left
          shadow-xl
          transition-all
          sm:my-8 sm:w-full sm:max-w-screen-lg
          xl:min-w-full
        "
      >
        <div class="bg-blue-50 px-4 pt-5">
          <div
            class="
              absolute
              top-0
              right-0
              cursor-pointer
              flex flex-col
              items-center
              mt-4
              mr-4
              text-white text-sm
              z-50
            "
          >
            <svg
              class="fill-current text-black"
              (click)="closeModal()"
              xmlns="http://www.w3.org/2000/svg"
              width="18"
              height="18"
              viewBox="0 0 18 18"
            >
              <path
                d="M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"
              ></path>
            </svg>
          </div>
          <div class="">
            <div class="mt-3 text-center">
              <div class="text-center mb-2">
                <h1 class="font-bold text-m lg:text-2xl text-gray-900">
                  Latest Earthquake Data Summary Dashboard
                </h1>
                <p class="italic lg:text-lg text-sm">
                  As of {{ todayString | date: 'fullDate' }}
                </p>
                <div class="w-full flex items-center justify-center">
                  <div
                    class="py-2 sm:py-4 md:py-2 bg-blue-50 shadow rounded-lg"
                  >
                    <!-- <div
                        class="
                          grid grid-cols-1
                          md:grid-cols-1
                          lg:grid-cols-1
                          px-4
                          xl:px-10
                          gap-y-8 gap-x-12
                          2xl:gap-x-28
                          items-center
                        "
                      >
                        <div class="w-full">
                          <p
                            class="
                              text-[8px]
                              md:text-xs
                              leading-none
                              text-black
                              uppercase
                              font-bold
                            "
                          >
                            Total Buildings
                          </p>
                          <p
                            class="
                              text-lg
                              sm:text-xl
                              md:text-2xl
                              lg:text-3xl
                              font-bold
                              leading-3
                              text-blue-700
                              mt-1
                              md:mt-1
                            "
                          >
                            2
                          </p>
                        </div>
                      </div> -->
                    <div
                      class="
                        grid grid-cols-2
                        md:grid-cols-2
                        lg:grid-cols-2
                        px-4
                        xl:px-10
                        gap-y-8 gap-x-12
                        2xl:gap-x-28
                        items-center
                      "
                    >
                      <div class="w-full">
                        <p
                          class="
                            text-[8px]
                            md:text-xs
                            leading-none
                            text-black
                            uppercase
                            font-bold
                          "
                        >
                          Total Buildings
                        </p>
                        <p
                          class="
                            text-lg
                            sm:text-xl
                            md:text-2xl
                            lg:text-3xl
                            font-bold
                            leading-3
                            text-blue-700
                            mt-1
                            md:mt-1
                          "
                        >
                          20
                        </p>
                      </div>
                      <div class="w-full">
                        <p
                          class="
                            text-[8px]
                            md:text-xs
                            leading-none
                            text-black
                            uppercase
                            font-bold
                          "
                        >
                          Total Rshake Stations
                        </p>
                        <p
                          class="
                            text-lg
                            sm:text-xl
                            md:text-2xl
                            lg:text-3xl
                            font-bold
                            leading-3
                            text-blue-700
                            mt-1
                            md:mt-1
                          "
                        >
                          43
                        </p>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="p-2">
          <div class="md:flex w-full">
            <div class="w-full">
              <input
                type="search"
                placeholder="Search Station"
                autocomplete="off"
                class="
                  rounded-2xl
                  w-full
                  py-2
                  px-2
                  bg-blue-50
                  border-4 border-blue-200
                  drop-shadow-sm
                  text-gray-700
                  leading-tight
                  focus:outline-none
                "
              />
              <h1
                class="pt-2 my-2 font-bold text-base lg:text-2xl text-blue-600"
              >
                List of buildings that surpassed the following thresholds:
              </h1>
              <nav class="tab-navigation">
                <ul
                  class="
                    tab-navigation
                    flex flex-wrap
                    text-[9.5px]
                    sm:text-xs
                    md:text-sm
                    lg:text-base
                    font-semibold
                    text-center text-blue-400
                    uppercase
                    dark:border-gray-700 dark:text-gray-400
                  "
                >
                  <li class="mr-2">
                    <label
                      for="select-red"
                      tabindex="1"
                      class="
                        inline-block
                        p-2
                        active
                        bg-noah-red-high
                        rounded-t-lg
                        hover:text-gray-600 hover:bg-blue-100
                        dark:hover:bg-gray-800
                        dark:hover:text-gray-300
                        dark:bg-gray-800
                        dark:text-gray-500
                      "
                      >ALERT RED</label
                    >
                  </li>
                  <li class="mr-2">
                    <label
                      for="select-orange"
                      tabindex="1"
                      class="
                        inline-block
                        p-2
                        rounded-t-lg
                        bg-noah-red-medium
                        hover:text-gray-600 hover:bg-blue-100
                        dark:hover:bg-gray-800 dark:hover:text-gray-300
                      "
                      >ALERT ORANGE</label
                    >
                  </li>
                  <li class="mr-2">
                    <label
                      for="select-yellow"
                      tabindex="1"
                      class="
                        inline-block
                        p-2
                        rounded-t-lg
                        bg-noah-red-low
                        hover:text-gray-600 hover:bg-blue-100
                        dark:hover:bg-gray-800 dark:hover:text-gray-300
                      "
                      >ALERT YELLOW</label
                    >
                  </li>
                </ul>
              </nav>
              <!-- <section> -->
              <!-- TAB SECTION FOR RED -->
              <div class="tab-all">
                <input
                  type="radio"
                  name="tab-indicator"
                  id="select-red"
                  class="tab-indicator"
                  checked="checked"
                />
                <div class="tab-content">
                  <!-- <ng-container dataSummaryRed> -->
                  <div tabindex="0" class="justify-center">
                    <div
                      class="shadow-xl w-full z-10 overflow-hidden"
                      style="max-width: 1000px"
                    >
                      <!-- <div class="md:flex w-full">
                            <div class="w-full py-10 px-5 md:px-10">
                              <div class="flex justify-center gap-x-4 mb-4">
                                <div
                                  class="
                                    flex
                                    items-center
                                    justify-center
                                    bottom-0
                                  "
                                ></div>
                              </div>
                            </div>
                          </div> -->
                    </div>
                  </div>
                  <!-- </ng-container> -->
                  <!-- <ng-template #dataSummaryRed> -->
                  <div class="mt-0">
                    <div
                      class="
                        overflow-auto
                        rounded-tr-lg rounded-b-lg
                        shadow
                        hidden
                        lg:block
                        overflow-y-auto
                      "
                      style="height: 405px"
                    >
                      <table class="w-full">
                        <thead class="bg-blue-200">
                          <tr class="text-left">
                            <th
                              class="
                                top-0
                                border-b border-gray-200
                                bg-blue-200
                                p-2
                                text-xs
                                tracking-wide
                                text-left
                                font-extrabold
                                sticky
                                whitespace-nowrap
                              "
                              *ngFor="let col of columns"
                            >
                              <div class="cursor-pointer inline-flex">
                                {{ col.header }}
                                <svg
                                  xmlns="http://www.w3.org/2000/svg"
                                  class="mr-1 h-4 w-4 text-left"
                                  viewBox="0 0 20 20"
                                  fill="currentColor"
                                >
                                  <path
                                    d="M3 3a1 1 0 000 2h11a1 1 0 100-2H3zM3 7a1 1 0 000 2h5a1 1 0 000-2H3zM3 11a1 1 0 100 2h4a1 1 0 100-2H3zM13 16a1 1 0 102 0v-5.586l1.293 1.293a1 1 0 001.414-1.414l-3-3a1 1 0 00-1.414 0l-3 3a1 1 0 101.414 1.414L13 10.414V16z"
                                  />
                                </svg>
                              </div>
                            </th>
                          </tr>
                        </thead>
                        <tbody class="divide-y divide-gray-100">
                          <tr
                            class="hover:bg-gray-100 bg-white even:bg-gray-50"
                            *ngFor="let data of summaryRedAlertData"
                          >
                            <td
                              class="
                                p-2
                                text-sm text-gray-700
                                whitespace-nowrap
                                first-letter:capitalize
                              "
                            >
                              {{ data.bldg_name }}
                            </td>
                            <td
                              class="
                                p-2
                                text-sm text-gray-700
                                whitespace-nowrap
                                first-letter:capitalize
                              "
                            >
                              {{ data.rshake_station }}
                            </td>

                            <td
                              class="
                                p-2
                                text-sm text-gray-700
                                whitespace-nowrap
                              "
                            >
                              {{ data.floor_num }}
                            </td>

                            <td
                              class="
                                p-2
                                text-sm text-gray-700
                                whitespace-nowrap
                                text-center
                                justify-center
                              "
                            >
                              {{ data.drift }}
                            </td>
                            <td
                              class="
                                p-2
                                text-sm text-gray-700
                                whitespace-nowrap
                                first-letter:capitalize
                              "
                            >
                              {{ data.acceleration }}
                            </td>
                            <td
                              class="
                                p-2
                                text-sm text-gray-700
                                whitespace-nowrap
                                first-letter:capitalize
                              "
                            >
                              {{ data.displacement }}
                            </td>
                            <td
                              class="
                                p-2
                                text-sm text-gray-700
                                whitespace-nowrap
                                first-letter:capitalize
                              "
                            >
                              {{ data.intensity }}
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                  <!-- </ng-template> -->
                </div>
              </div>

              <!-- TAB SECTION FOR ORANGE -->
              <div class="tab-orange">
                <input
                  type="radio"
                  name="tab-indicator"
                  id="select-orange"
                  class="tab-indicator"
                  checked="checked"
                />
                <div class="tab-content">
                  <!-- <ng-container dataSummaryOrange> -->
                  <div tabindex="0" class="justify-center">
                    <div
                      class="shadow-xl w-full z-10 overflow-hidden"
                      style="max-width: 1000px"
                    >
                      <!-- <div class="md:flex w-full">
                            <div class="w-full py-10 px-5 md:px-10">
                              <div class="flex justify-center gap-x-4 mb-4">
                                <div
                                  class="
                                    flex
                                    items-center
                                    justify-center
                                    bottom-0
                                  "
                                ></div>
                              </div>
                            </div>
                          </div> -->
                    </div>
                  </div>
                  <!-- </ng-container> -->
                  <!-- <ng-template #dataSummaryOrange> -->
                  <div class="mt-0">
                    <div
                      class="
                        overflow-auto
                        rounded-tr-lg rounded-b-lg
                        shadow
                        hidden
                        lg:block
                        overflow-y-auto
                      "
                      style="height: 405px"
                    >
                      <table class="w-full">
                        <thead class="bg-blue-200">
                          <tr class="text-left">
                            <th
                              class="
                                top-0
                                border-b border-gray-200
                                bg-blue-200
                                p-2
                                text-xs
                                tracking-wide
                                text-left
                                font-extrabold
                                sticky
                                whitespace-nowrap
                              "
                              *ngFor="let col of columns"
                            >
                              <div class="cursor-pointer inline-flex">
                                {{ col.header }}
                                <svg
                                  xmlns="http://www.w3.org/2000/svg"
                                  class="mr-1 h-4 w-4 text-left"
                                  viewBox="0 0 20 20"
                                  fill="currentColor"
                                >
                                  <path
                                    d="M3 3a1 1 0 000 2h11a1 1 0 100-2H3zM3 7a1 1 0 000 2h5a1 1 0 000-2H3zM3 11a1 1 0 100 2h4a1 1 0 100-2H3zM13 16a1 1 0 102 0v-5.586l1.293 1.293a1 1 0 001.414-1.414l-3-3a1 1 0 00-1.414 0l-3 3a1 1 0 101.414 1.414L13 10.414V16z"
                                  />
                                </svg>
                              </div>
                            </th>
                          </tr>
                        </thead>
                        <tbody class="divide-y divide-gray-100">
                          <tr
                            class="hover:bg-gray-100 bg-white even:bg-gray-50"
                            *ngFor="let data of summaryRedAlertData"
                          >
                            <td
                              class="
                                p-2
                                text-sm text-gray-700
                                whitespace-nowrap
                                first-letter:capitalize
                              "
                            >
                              {{ data.bldg_name }}
                            </td>
                            <td
                              class="
                                p-2
                                text-sm text-gray-700
                                whitespace-nowrap
                                first-letter:capitalize
                              "
                            >
                              {{ data.rshake_station }}
                            </td>

                            <td
                              class="
                                p-2
                                text-sm text-gray-700
                                whitespace-nowrap
                              "
                            >
                              {{ data.floor_num }}
                            </td>

                            <td
                              class="
                                p-2
                                text-sm text-gray-700
                                whitespace-nowrap
                                text-center
                                justify-center
                              "
                            >
                              {{ data.drift }}
                            </td>
                            <td
                              class="
                                p-2
                                text-sm text-gray-700
                                whitespace-nowrap
                                first-letter:capitalize
                              "
                            >
                              {{ data.acceleration }}
                            </td>
                            <td
                              class="
                                p-2
                                text-sm text-gray-700
                                whitespace-nowrap
                                first-letter:capitalize
                              "
                            >
                              {{ data.displacement }}
                            </td>
                            <td
                              class="
                                p-2
                                text-sm text-gray-700
                                whitespace-nowrap
                                first-letter:capitalize
                              "
                            >
                              {{ data.intensity }}
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                  <!-- </ng-template> -->
                </div>
              </div>

              <!-- TAB SECTION FOR YELLOW -->
              <div class="tab-yellow">
                <input
                  type="radio"
                  name="tab-indicator"
                  id="select-yellow"
                  class="tab-indicator"
                  checked="checked"
                />
                <div class="tab-content">
                  <!-- <ng-container dataSummaryYellow> -->
                  <div tabindex="0" class="justify-center">
                    <div
                      class="shadow-xl w-full z-10 overflow-hidden"
                      style="max-width: 1000px"
                    >
                      <!-- <div class="md:flex w-full">
                            <div class="w-full py-10 px-5 md:px-10">
                              <div class="flex justify-center gap-x-4 mb-4">
                                <div
                                  class="
                                    flex
                                    items-center
                                    justify-center
                                    bottom-0
                                  "
                                ></div>
                              </div>
                            </div>
                          </div> -->
                    </div>
                  </div>
                  <!-- </ng-container> -->
                  <!-- <ng-template #dataSummaryYellow> -->
                  <div class="mt-0">
                    <div
                      class="
                        overflow-auto
                        rounded-tr-lg rounded-b-lg
                        shadow
                        hidden
                        lg:block
                        overflow-y-auto
                      "
                      style="height: 405px"
                    >
                      <table class="w-full">
                        <thead class="bg-blue-200">
                          <tr class="text-left">
                            <th
                              class="
                                top-0
                                border-b border-gray-200
                                bg-blue-200
                                p-2
                                text-xs
                                tracking-wide
                                text-left
                                font-extrabold
                                sticky
                                whitespace-nowrap
                              "
                              *ngFor="let col of columns"
                            >
                              <div class="cursor-pointer inline-flex">
                                {{ col.header }}
                                <svg
                                  xmlns="http://www.w3.org/2000/svg"
                                  class="mr-1 h-4 w-4 text-left"
                                  viewBox="0 0 20 20"
                                  fill="currentColor"
                                >
                                  <path
                                    d="M3 3a1 1 0 000 2h11a1 1 0 100-2H3zM3 7a1 1 0 000 2h5a1 1 0 000-2H3zM3 11a1 1 0 100 2h4a1 1 0 100-2H3zM13 16a1 1 0 102 0v-5.586l1.293 1.293a1 1 0 001.414-1.414l-3-3a1 1 0 00-1.414 0l-3 3a1 1 0 101.414 1.414L13 10.414V16z"
                                  />
                                </svg>
                              </div>
                            </th>
                          </tr>
                        </thead>
                        <tbody class="divide-y divide-gray-100">
                          <tr
                            class="hover:bg-gray-100 bg-white even:bg-gray-50"
                            *ngFor="let data of summaryRedAlertData"
                          >
                            <td
                              class="
                                p-2
                                text-sm text-gray-700
                                whitespace-nowrap
                                first-letter:capitalize
                              "
                            >
                              {{ data.bldg_name }}
                            </td>
                            <td
                              class="
                                p-2
                                text-sm text-gray-700
                                whitespace-nowrap
                                first-letter:capitalize
                              "
                            >
                              {{ data.bldg_name }} Floor Number
                            </td>

                            <td
                              class="
                                p-2
                                text-sm text-gray-700
                                whitespace-nowrap
                              "
                            >
                              {{ data.bldg_name }} Rshake Station
                            </td>

                            <td
                              class="
                                p-2
                                text-sm text-gray-700
                                whitespace-nowrap
                                text-center
                                justify-center
                              "
                            >
                              {{ data.drift }}
                            </td>
                            <td
                              class="
                                p-2
                                text-sm text-gray-700
                                whitespace-nowrap
                                first-letter:capitalize
                              "
                            >
                              {{ data.acceleration }}
                            </td>
                            <td
                              class="
                                p-2
                                text-sm text-gray-700
                                whitespace-nowrap
                                first-letter:capitalize
                              "
                            >
                              {{ data.displacement }}
                            </td>
                            <td
                              class="
                                p-2
                                text-sm text-gray-700
                                whitespace-nowrap
                                first-letter:capitalize
                              "
                            >
                              {{ data.intensity }}
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                  <!-- </ng-template> -->
                </div>
              </div>
              <!-- </section> -->
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
