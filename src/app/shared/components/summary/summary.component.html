<div class="px-6 justify-center items-center">
  <button
    class="
      text-xs
      font-bold
      bg-green-600
      rounded-full
      px-10
      py-2
      my-4
      inline-flex
      items-center
      justify-center
      text-white
      focus:outline-none
      mx-auto
      lg:mx-0
      tracking-widest
      hover:bg-green-700
      focus:ring-opacity-50
      border-2
    "
    (click)="viewSummary()"
  >
    View Data Summary
  </button>
</div>

<!-- MODAL -->

<div
  class="
    min-w-screen
    h-screen
    animated
    fadeIn
    faster
    fixed
    left-0
    top-0
    flex
    justify-center
    items-center
    inset-0
    z-50
    outline-none
    focus:outline-none
    bg-no-repeat bg-center bg-cover
  "
  id="modal"
  *ngIf="summaryModal"
>
  <div
    class="absolute bg-black opacity-80 inset-0 z-0"
    (click)="closeModal()"
  ></div>
  <!--content-->
  <div class="min-w-screen min-h-screen flex items-center z-40 justify-center">
    <div
      class="
        flex
        items-center
        justify-center
        fixed
        left-0
        bottom-0
        w-full
        h-full
      "
    >
      <div
        id="modal"
        class="
          container
          mx-auto
          flex
          justify-center
          items-center
          px-4
          md:px-10
          py-12
        "
      >
        <div class="flex flex-col items-start p-4">
          <div class="bg-white rounded-lg px-3 py-4 flex flex-col">
            <svg
              class="
                ml-auto
                mb-5
                fill-current
                text-gray-700
                w-6
                h-6
                cursor-pointer
              "
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 18 18"
              (click)="closeModal()"
            >
              <path
                d="M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"
              />
            </svg>
            <div class="md:flex w-full">
              <div class="w-full">
                <div class="text-center mb-4">
                  <h1 class="font-bold text-m lg:text-2xl text-gray-900">
                    Quezon City Latest Data Summary Dashboard
                  </h1>
                  <p class="italic lg:text-lg text-sm">
                    As of {{ todayString | date: 'fullDate' }}
                  </p>
                  <div class="w-full flex items-center justify-center">
                    <div
                      class="py-2 sm:py-4 md:py-2 bg-white shadow rounded-lg"
                    >
                      <div
                        class="
                          grid grid-cols-3
                          md:grid-cols-3
                          lg:grid-cols-3
                          px-4
                          xl:px-10
                          gap-y-8 gap-x-12
                          2xl:gap-x-28
                        "
                      >
                        <div class="w-full">
                          <p
                            class="
                              text-[8px]
                              md:text-xs
                              leading-none
                              text-black
                              uppercase
                            "
                          >
                            Total Sensor
                          </p>
                          <p
                            class="
                              text-lg
                              sm:text-xl
                              md:text-2xl
                              lg:text-3xl
                              font-bold
                              leading-3
                              text-blue-700
                              mt-1
                              md:mt-1
                            "
                          >
                            {{ total }}
                          </p>
                        </div>
                        <div class="w-full">
                          <p
                            class="
                              text-[8px]
                              md:text-xs
                              leading-none
                              text-black
                              uppercase
                            "
                          >
                            Total Active Sensor
                          </p>
                          <p
                            class="
                              text-lg
                              sm:text-xl
                              md:text-2xl
                              lg:text-3xl
                              font-bold
                              leading-3
                              text-blue-700
                              mt-1
                              md:mt-1
                            "
                          >
                            {{ activeSensor }}
                          </p>
                        </div>
                        <div class="w-full">
                          <p
                            class="
                              text-[8px]
                              md:text-xs
                              leading-none
                              text-black
                              uppercase
                            "
                          >
                            Total Inactive Sensor
                          </p>
                          <p
                            class="
                              text-lg
                              sm:text-xl
                              md:text-2xl
                              lg:text-3xl
                              font-bold
                              leading-3
                              text-blue-700
                              mt-1
                              md:mt-1
                            "
                          >
                            {{ inactive }}
                          </p>
                        </div>
                      </div>

                      <!-- Card code block start -->
                      <div
                        class="
                          grid
                          sm:grid-cols-2
                          md:grid-cols-2
                          lg:grid-cols-2
                          xl:grid-cols-2
                          grid-cols-2
                          gap-2
                          mt-2
                        "
                      >
                        <div class="bg-white dark:bg-gray-800 rounded p-2">
                          <div
                            class="
                              flex
                              items-center
                              justify-between
                              w-full
                              sm:w-full
                            "
                          >
                            <div class="flex items-center">
                              <div class="ml-6">
                                <h3
                                  class="
                                    mb-1
                                    leading-5
                                    text-gray-800
                                    dark:text-gray-100
                                    font-bold
                                    text-sm
                                  "
                                >
                                  Total Active Flood Sensor:
                                  <span class="text-blue-700 text-sm">{{
                                    activeFloodSensor
                                  }}</span>
                                </h3>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="bg-white dark:bg-gray-800 rounded p-2">
                          <div
                            class="
                              flex
                              items-center
                              justify-between
                              w-full
                              sm:w-full
                            "
                          >
                            <div class="flex items-center">
                              <div class="ml-6">
                                <h3
                                  class="
                                    mb-1
                                    leading-5
                                    text-gray-800
                                    dark:text-gray-100
                                    font-bold
                                    text-sm
                                  "
                                >
                                  Total Active Rain Sensor:
                                  <span class="text-blue-700 text-sm">{{
                                    rainActiveSensor
                                  }}</span>
                                </h3>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <!-- Card code block end -->
                    </div>
                  </div>
                </div>

                <input
                  [(ngModel)]="searchValue"
                  type="search"
                  placeholder="Search Location"
                  autocomplete="off"
                  class="
                    rounded-full
                    w-full
                    py-2
                    px-2
                    border-2 border-gray-200
                    text-gray-700
                    leading-tight
                    focus:outline-none
                  "
                />

                <nav class="tab-navigation">
                  <ul class="tab-navigation">
                    <li class="nav-item">
                      <label
                        class="nav-link md:text-primary text-xs"
                        tabindex="1"
                        for="select-all"
                        >All</label
                      >
                    </li>
                    <li class="nav-item">
                      <label
                        class="nav-link md:text-primary text-xs"
                        tabindex="1"
                        for="select-flood"
                        >Flood Sensor</label
                      >
                    </li>
                    <li class="nav-item">
                      <label
                        class="nav-link md:text-primary text-xs"
                        tabindex="1"
                        for="select-rain"
                        >Rainfall Sensor</label
                      >
                    </li>
                  </ul>
                </nav>

                <section>
                  <!-- TAB SECTION FOR ALL -->
                  <article class="tab-all">
                    <input
                      type="radio"
                      name="tab-indicator"
                      id="select-all"
                      class="tab-indicator"
                      checked="checked"
                    />
                    <div class="tab-content">
                      <ng-container *ngIf="loading; else dataSummaryall">
                        <div tabindex="0" class="justify-center">
                          <div
                            class="shadow-xl w-full z-10 overflow-hidden"
                            style="max-width: 1000px"
                          >
                            <div class="md:flex w-full">
                              <div class="w-full py-10 px-5 md:px-10">
                                <div class="flex justify-center gap-x-4 mb-4">
                                  <div
                                    class="
                                      flex
                                      items-center
                                      justify-center
                                      bottom-0
                                    "
                                  >
                                    <div
                                      class="
                                        w-14
                                        h-14
                                        border-t-4 border-b-4 border-black
                                        rounded-full
                                        animate-spin
                                        absolute
                                      "
                                    ></div>
                                    <img
                                      src="assets/icons/logo-noah.svg"
                                      class="w-10 h-10 animate-none"
                                      fill="none"
                                    />
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </ng-container>
                      <ng-template #dataSummaryall>
                        <div class="mt-2">
                          <div
                            class="
                              overflow-auto
                              rounded-lg
                              shadow
                              hidden
                              lg:block
                            "
                          >
                            <table class="w-full b-4">
                              <thead
                                class="bg-gray-50 border-b-2 border-gray-200"
                              >
                                <tr>
                                  <th
                                    class="
                                      p-3
                                      text-sm
                                      font-semibold
                                      tracking-wide
                                      text-left
                                    "
                                    *ngFor="let col of columns"
                                  >
                                    <div
                                      (click)="sortedColumn = col.key"
                                      class="cursor-pointer inline-flex"
                                    >
                                      {{ col.header }}
                                      <svg
                                        xmlns="http://www.w3.org/2000/svg"
                                        class="mr-1 h-5 w-5 text-left"
                                        viewBox="0 0 20 20"
                                        fill="currentColor"
                                      >
                                        <path
                                          d="M3 3a1 1 0 000 2h11a1 1 0 100-2H3zM3 7a1 1 0 000 2h5a1 1 0 000-2H3zM3 11a1 1 0 100 2h4a1 1 0 100-2H3zM13 16a1 1 0 102 0v-5.586l1.293 1.293a1 1 0 001.414-1.414l-3-3a1 1 0 00-1.414 0l-3 3a1 1 0 101.414 1.414L13 10.414V16z"
                                        />
                                      </svg>
                                    </div>
                                  </th>
                                </tr>
                              </thead>
                              <tbody class="divide-y divide-gray-100">
                                <tr
                                  class="hover:bg-gray-100 bg-white"
                                  *ngFor="
                                    let data of summaryData
                                      | sort: sortedColumn
                                      | searchfilter: searchValue
                                  "
                                >
                                  <td
                                    class="
                                      p-3
                                      text-sm text-gray-700
                                      whitespace-nowrap
                                    "
                                  >
                                    {{ data.name }}
                                  </td>
                                  <td
                                    class="
                                      p-3
                                      text-sm text-gray-700
                                      whitespace-nowrap
                                      first-letter:capitalize
                                    "
                                  >
                                    {{ data.iot_type }}
                                  </td>

                                  <td
                                    class="
                                      p-3
                                      text-sm text-gray-700
                                      whitespace-nowrap
                                    "
                                  >
                                    <div *ngIf="data.latest_date == null">
                                      N/A
                                    </div>
                                    <div
                                      *ngIf="
                                        data.latest_date == data.latest_date
                                      "
                                    >
                                      {{
                                        data.latest_date
                                          | date: 'medium':'+0000'
                                      }}
                                    </div>
                                  </td>

                                  <td
                                    class="
                                      p-3
                                      text-sm text-gray-700
                                      whitespace-nowrap
                                      text-center
                                      justify-center
                                    "
                                  >
                                    <ng-container
                                      *ngIf="
                                        data.latest_data == null;
                                        else show
                                      "
                                    >
                                      <div>N/A</div>
                                    </ng-container>
                                    <ng-template #show>
                                      <div *ngIf="data.iot_type == 'rain'">
                                        {{ data.latest_data }}mm
                                      </div>
                                      <div *ngIf="data.iot_type == 'flood'">
                                        {{ data.latest_data }}m
                                      </div>
                                    </ng-template>
                                  </td>

                                  <td
                                    class="
                                      p-3
                                      text-sm text-gray-700
                                      whitespace-nowrap
                                    "
                                  >
                                    <div *ngIf="data.latest_data == null">
                                      N/A
                                    </div>
                                    <div
                                      *ngIf="
                                        data.latest_data == '0' &&
                                        data.latest_data <= '0.5'
                                      "
                                    >
                                      <span
                                        class="
                                          p-1.5
                                          text-xs
                                          font-medium
                                          uppercase
                                          tracking-wider
                                          text-black
                                          bg-low
                                          rounded-lg
                                        "
                                        >Low (0 - 0.5m)</span
                                      >
                                    </div>
                                    <div
                                      *ngIf="
                                        data.latest_data >= '0.6' &&
                                        data.latest_data >= '1.5'
                                      "
                                    >
                                      <span
                                        class="
                                          p-1.5
                                          text-xs
                                          font-medium
                                          uppercase
                                          tracking-wider
                                          text-black
                                          bg-medium
                                          rounded-lg
                                        "
                                        >Medium (0.6 - 1.5m)</span
                                      >
                                    </div>
                                    <div
                                      *ngIf="
                                        data.latest_data >= '1.6' &&
                                        data.latest_data <= '2'
                                      "
                                    >
                                      <span
                                        class="
                                          p-1.5
                                          text-xs
                                          font-medium
                                          uppercase
                                          tracking-wider
                                          text-black
                                          bg-high
                                          rounded-lg
                                        "
                                      >
                                        High (1.6m +)
                                      </span>
                                    </div>
                                  </td>
                                  <td
                                    class="
                                      p-3
                                      text-sm text-gray-700
                                      whitespace-nowrap
                                      first-letter:capitalize
                                    "
                                  >
                                    {{ data.status }}
                                  </td>
                                </tr>
                              </tbody>
                            </table>
                          </div>
                          <noah-pagination
                            class="hidden lg:block"
                            [allPagesNumber]="allPages"
                            (changePage)="onPageChange($event)"
                          ></noah-pagination>
                          <!-- MOBILE VIEW -->
                          <!-- <div class="
                              z-10
                              pl-2
                              h-12
                              w-36
                              flex flex-row
                              py-1
                              md:hidden
                            ">
                            <div class="p-2">
                              <div class="dropdown inline-block relative">
                                <button class="
                                    bg-gray-200
                                    text-gray-800
                                    font-semibold
                                    py-1
                                    px-1
                                    ml-2
                                    rounded
                                    inline-flex
                                    items-center
                                    hover:bg-gray-200
                                    focus:outline-none
                                    focus:ring-2
                                    focus:ring-gray-600
                                    focus:ring-opacity-50
                                  ">
                                  Sort By:
                                </button>
             



                                <ul class="
                                    dropdown-menu
                                    z-50
                                    rounded-lg
                                    drop-shadow-xl
                                    bg-white
                                    left-20
                                    top-0
                                    absolute
                                    hidden
                                    text-sm text-gray-700
                                    w-32
                                    h-48
                                    overflow-y-auto
                                  ">
                                  <li class="w-32" *ngFor="let col of columns">
                                    <a class="
                                        rounded-lg
                                        block
                                        px-4
                                        py-2
                                        text-sm
                                        leading-5
                                        text-gray-700
                                        transition
                                        duration-150
                                        ease-in-out
                                        hover:bg-gray-100
                                        focus:outline-none focus:bg-gray-100
                                      " (click)="sortedColumn = col.key" role="button">{{ col.mobileHeader }}</a>
                                  </li>
                                </ul>
                 
                              </div>
                            </div>
                          </div> -->

                          <div class="flex flex-row flex-wrap lg:hidden w-full">
                            <!-- Code block for small badge starts -->
                            <div
                              class="
                                h-6
                                w-20
                                mb-4
                                md:mb-0
                                rounded-lg
                                flex
                                items-center
                                justify-center
                                mr-2
                                dropdown
                              "
                            >
                              <div
                                class="
                                  flex
                                  items-center
                                  justify-around
                                  h-full
                                  w-full
                                "
                              >
                                <div class="dropdown inline-block relative">
                                  <button
                                    class="
                                      bg-gray-200
                                      text-gray-800
                                      font-semibold
                                      py-1
                                      px-1
                                      ml-2
                                      rounded
                                      inline-flex
                                      items-center
                                      hover:bg-gray-200
                                      focus:outline-none
                                      focus:ring-2
                                      focus:ring-gray-600
                                      focus:ring-opacity-50
                                    "
                                  >
                                    Sort By:
                                  </button>
                                  <ul
                                    class="
                                      dropdown-menu
                                      z-50
                                      rounded-lg
                                      drop-shadow-xl
                                      bg-white
                                      left-20
                                      top-0
                                      absolute
                                      hidden
                                      text-sm text-gray-700
                                      w-32
                                      h-48
                                      overflow-y-auto
                                    "
                                  >
                                    <li
                                      class="w-32"
                                      *ngFor="let col of columns"
                                    >
                                      <a
                                        class="
                                          rounded-lg
                                          block
                                          px-4
                                          py-2
                                          text-sm
                                          leading-5
                                          text-gray-700
                                          transition
                                          duration-150
                                          ease-in-out
                                          hover:bg-gray-100
                                          focus:outline-none focus:bg-gray-100
                                        "
                                        (click)="sortedColumn = col.key"
                                        role="button"
                                        >{{ col.mobileHeader }}</a
                                      >
                                    </li>
                                  </ul>
                                </div>
                              </div>
                            </div>
                            <!-- Code block ends -->

                            <!-- Code block for large badge starts -->
                            <div
                              class="
                                bg-indigo-200
                                h-6
                                w-16
                                mb-4
                                md:mb-0
                                rounded-md
                                flex
                                items-center
                                justify-end
                                mr-1
                              "
                            >
                              <div
                                class="
                                  flex
                                  items-center
                                  justify-around
                                  h-full
                                  w-full
                                "
                              >
                                <span
                                  class="text-[8px] text-indigo-700 font-normal"
                                  >Low (0 - 0.5m)</span
                                >
                              </div>
                            </div>
                            <!-- Code block ends -->
                            <!-- Code block for large badge starts -->
                            <div
                              class="
                                bg-indigo-200
                                h-6
                                w-16
                                mb-4
                                md:mb-0
                                rounded-md
                                flex
                                items-center
                                justify-center
                                mr-1
                              "
                            >
                              <div
                                class="
                                  flex
                                  items-center
                                  justify-around
                                  h-full
                                  w-full
                                "
                              >
                                <span
                                  class="text-xs text-indigo-700 font-normal"
                                  >Medium (0.6 - 1.5m)</span
                                >
                              </div>
                            </div>
                            <!-- Code block ends -->
                            <!-- Code block for large badge starts -->
                            <div
                              class="
                                bg-indigo-200
                                h-6
                                w-16
                                mb-4
                                md:mb-0
                                rounded-md
                                flex
                                items-center
                                justify-center
                              "
                            >
                              <div
                                class="
                                  flex
                                  items-center
                                  justify-around
                                  h-full
                                  w-full
                                "
                              >
                                <span
                                  class="text-xs text-indigo-700 font-normal"
                                  >High (1.6m +)</span
                                >
                              </div>
                            </div>
                            <!-- Code block ends -->
                          </div>

                          <div
                            class="
                              items-center
                              justify-center
                              py-2
                              px-3
                              lg:hidden
                              grid grid-cols-1
                              h-96
                              overflow-y-auto
                              sm:grid-cols-
                              gap-4
                            "
                          >
                            <div
                              class="
                                md:w-96
                                rounded-md
                                drop-shadow-2xl
                                py-4
                                px-5
                                w-full
                                bg-white
                              "
                              *ngFor="
                                let data of summaryData
                                  | sort: sortedColumn
                                  | searchfilter: searchValue
                              "
                            >
                              <h1
                                class="
                                  text-lg
                                  font-bold
                                  text-gray-800
                                  leading-5
                                  pt-2
                                "
                              >
                                {{ data.name }}
                              </h1>
                              <div class="pt-2 relative">
                                <div class="flex items-center justify-between">
                                  <div class="flex items-center">
                                    <span
                                      class="
                                        text-blue-500 text-xs
                                        italic
                                        font-normal
                                      "
                                    >
                                      {{
                                        data.latest_date
                                          | date: 'medium':'+0000'
                                      }}
                                    </span>
                                  </div>
                                </div>
                                <p
                                  class="
                                    text-sm
                                    leading-none
                                    pt-2
                                    text-gray-600
                                    first
                                    capitalize
                                  "
                                >
                                  Sensor Type: {{ data.iot_type }}
                                </p>

                                <div
                                  class="
                                    text-sm
                                    leading-none
                                    pt-2
                                    text-gray-600
                                    first
                                    capitalize
                                  "
                                >
                                  <div *ngIf="data.iot_type == 'rain'">
                                    Latest Data: {{ data.latest_data }}mm
                                  </div>
                                  <div *ngIf="data.iot_type == 'flood'">
                                    Latest Data: {{ data.latest_data }}m
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>

                          <!-- MOBILE VIEW -->
                        </div>
                      </ng-template>
                    </div>
                  </article>

                  <!-- TAB SECTION FOR FLOOD -->
                  <article class="tab-flood">
                    <input
                      type="radio"
                      name="tab-indicator"
                      id="select-flood"
                      class="tab-indicator"
                    />
                    <div class="tab-content">
                      <ng-container *ngIf="loading; else dataSummaryFlood">
                        <div tabindex="0" class="justify-center">
                          <div
                            class="shadow-xl w-full z-10 overflow-hidden"
                            style="max-width: 1000px"
                          >
                            <div class="md:flex w-full">
                              <div class="w-full py-10 px-5 md:px-10">
                                <div class="flex justify-center gap-x-4 mb-4">
                                  <div
                                    class="
                                      flex
                                      items-center
                                      justify-center
                                      bottom-0
                                    "
                                  >
                                    <div
                                      class="
                                        w-14
                                        h-14
                                        border-t-4 border-b-4 border-black
                                        rounded-full
                                        animate-spin
                                        absolute
                                      "
                                    ></div>
                                    <img
                                      src="assets/icons/logo-noah.svg"
                                      class="w-10 h-10 animate-none"
                                      fill="none"
                                    />
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </ng-container>
                      <ng-template #dataSummaryFlood>
                        <div class="mt-2">
                          <div
                            class="
                              overflow-auto
                              rounded-lg
                              shadow
                              hidden
                              lg:block
                            "
                          >
                            <table class="w-full b-4">
                              <thead
                                class="bg-gray-50 border-b-2 border-gray-200"
                              >
                                <tr>
                                  <th
                                    class="
                                      p-3
                                      text-sm
                                      font-semibold
                                      tracking-wide
                                      text-left
                                    "
                                    *ngFor="let col of columns"
                                  >
                                    <div
                                      (click)="sortedColumn = col.key"
                                      class="cursor-pointer inline-flex"
                                    >
                                      {{ col.header }}
                                      <svg
                                        xmlns="http://www.w3.org/2000/svg"
                                        class="mr-1 h-5 w-5 text-left"
                                        viewBox="0 0 20 20"
                                        fill="currentColor"
                                      >
                                        <path
                                          d="M3 3a1 1 0 000 2h11a1 1 0 100-2H3zM3 7a1 1 0 000 2h5a1 1 0 000-2H3zM3 11a1 1 0 100 2h4a1 1 0 100-2H3zM13 16a1 1 0 102 0v-5.586l1.293 1.293a1 1 0 001.414-1.414l-3-3a1 1 0 00-1.414 0l-3 3a1 1 0 101.414 1.414L13 10.414V16z"
                                        />
                                      </svg>
                                    </div>
                                  </th>
                                </tr>
                              </thead>
                              <tbody class="divide-y divide-gray-100">
                                <tr
                                  class="hover:bg-gray-100 bg-white"
                                  *ngFor="
                                    let data of floodSummaryData
                                      | sort: sortedColumn
                                      | searchfilter: searchValue
                                  "
                                >
                                  <td
                                    class="
                                      p-3
                                      text-sm text-gray-700
                                      whitespace-nowrap
                                    "
                                  >
                                    {{ data.name }}
                                  </td>
                                  <td
                                    class="
                                      p-3
                                      text-sm text-gray-700
                                      whitespace-nowrap
                                      first-letter:capitalize
                                    "
                                  >
                                    {{ data.iot_type }}
                                  </td>

                                  <td
                                    class="
                                      p-3
                                      text-sm text-gray-700
                                      whitespace-nowrap
                                    "
                                  >
                                    <div *ngIf="data.latest_date == null">
                                      N/A
                                    </div>
                                    <div
                                      *ngIf="
                                        data.latest_date == data.latest_date
                                      "
                                    >
                                      {{
                                        data.latest_date
                                          | date: 'medium':'+0000'
                                      }}
                                    </div>
                                  </td>

                                  <td
                                    class="
                                      p-3
                                      text-sm text-gray-700
                                      whitespace-nowrap
                                      text-center
                                      justify-center
                                    "
                                  >
                                    <ng-container
                                      *ngIf="
                                        data.latest_data == null;
                                        else showFlood
                                      "
                                    >
                                      <div>N/A</div>
                                    </ng-container>
                                    <ng-template #showFlood>
                                      <div *ngIf="data.iot_type == 'flood'">
                                        {{ data.latest_data }}m
                                      </div>
                                    </ng-template>
                                  </td>

                                  <td
                                    class="
                                      p-3
                                      text-sm text-gray-700
                                      whitespace-nowrap
                                    "
                                  >
                                    <div *ngIf="data.latest_data == null">
                                      N/A
                                    </div>
                                    <div
                                      *ngIf="
                                        data.latest_data == '0' &&
                                        data.latest_data <= '0.5'
                                      "
                                    >
                                      <span
                                        class="
                                          p-1.5
                                          text-xs
                                          font-medium
                                          uppercase
                                          tracking-wider
                                          text-black
                                          bg-low
                                          rounded-lg
                                        "
                                        >Low (0 - 0.5m)</span
                                      >
                                    </div>
                                    <div
                                      *ngIf="
                                        data.latest_data >= '0.6' &&
                                        data.latest_data >= '1.5'
                                      "
                                    >
                                      <span
                                        class="
                                          p-1.5
                                          text-xs
                                          font-medium
                                          uppercase
                                          tracking-wider
                                          text-black
                                          bg-medium
                                          rounded-lg
                                        "
                                        >Medium (0.6 - 1.5m)</span
                                      >
                                    </div>
                                    <div
                                      *ngIf="
                                        data.latest_data >= '1.6' &&
                                        data.latest_data <= '2'
                                      "
                                    >
                                      <span
                                        class="
                                          p-1.5
                                          text-xs
                                          font-medium
                                          uppercase
                                          tracking-wider
                                          text-black
                                          bg-high
                                          rounded-lg
                                        "
                                      >
                                        High (1.6m +)
                                      </span>
                                    </div>
                                  </td>
                                  <td
                                    class="
                                      p-3
                                      text-sm text-gray-700
                                      whitespace-nowrap
                                      first-letter:capitalize
                                    "
                                  >
                                    {{ data.status }}
                                  </td>
                                </tr>
                              </tbody>
                            </table>
                          </div>
                          <noah-pagination
                            class="hidden lg:block"
                            [allPagesNumber]="floodAllPages"
                            (changePage)="onPageChange($event)"
                          ></noah-pagination>
                          <!-- MOBILE VIEW -->
                          <div
                            class="
                              z-10
                              pl-2
                              h-12
                              w-36
                              flex flex-row
                              py-1
                              lg:hidden
                            "
                          >
                            <div class="p-2">
                              <div class="dropdown inline-block relative">
                                <button
                                  class="
                                    bg-gray-200
                                    text-gray-800
                                    font-semibold
                                    py-1
                                    px-1
                                    ml-2
                                    rounded
                                    inline-flex
                                    items-center
                                    hover:bg-gray-200
                                    focus:outline-none
                                    focus:ring-2
                                    focus:ring-gray-600
                                    focus:ring-opacity-50
                                  "
                                >
                                  Sort By:
                                </button>
                                <ul
                                  class="
                                    dropdown-menu
                                    z-50
                                    rounded-lg
                                    drop-shadow-xl
                                    bg-white
                                    left-20
                                    top-0
                                    absolute
                                    hidden
                                    text-sm text-gray-700
                                    w-32
                                    h-48
                                    overflow-y-auto
                                  "
                                >
                                  <li class="w-32" *ngFor="let col of columns">
                                    <a
                                      class="
                                        rounded-lg
                                        block
                                        px-4
                                        py-2
                                        text-sm
                                        leading-5
                                        text-gray-700
                                        transition
                                        duration-150
                                        ease-in-out
                                        hover:bg-gray-100
                                        focus:outline-none focus:bg-gray-100
                                      "
                                      (click)="sortedColumn = col.key"
                                      role="button"
                                      >{{ col.mobileHeader }}</a
                                    >
                                  </li>
                                </ul>
                              </div>
                            </div>
                          </div>

                          <div
                            class="
                              items-center
                              justify-center
                              py-2
                              px-3
                              lg:hidden
                              grid grid-cols-1
                              h-96
                              overflow-y-auto
                              sm:grid-cols-2
                              gap-4
                            "
                          >
                            <div
                              class="
                                md:w-96
                                rounded-md
                                drop-shadow-2xl
                                py-4
                                px-5
                                w-full
                                bg-white
                              "
                              *ngFor="
                                let data of floodSummaryData
                                  | sort: sortedColumn
                                  | searchfilter: searchValue
                              "
                            >
                              <h1
                                class="
                                  text-lg
                                  font-bold
                                  text-gray-800
                                  leading-5
                                  pt-2
                                "
                              >
                                {{ data.name }}
                              </h1>
                              <div class="pt-2 relative">
                                <div class="flex items-center justify-between">
                                  <div class="flex items-center">
                                    <div
                                      class="w-2 h-2 rounded-full bg-blue-500"
                                    ></div>
                                    <span
                                      class="
                                        text-blue-500 text-xs
                                        italic
                                        font-normal
                                        pl-1
                                      "
                                    >
                                      {{
                                        data.latest_date
                                          | date: 'medium':'+0000'
                                      }}
                                    </span>
                                  </div>
                                </div>
                                <p
                                  class="
                                    text-sm
                                    leading-none
                                    pt-2
                                    text-gray-600
                                    first
                                    capitalize
                                  "
                                >
                                  Sensor Type: {{ data.iot_type }}
                                </p>
                                <p
                                  class="
                                    text-xs
                                    italic
                                    pt-1
                                    leading-3
                                    text-gray-400
                                  "
                                >
                                  Latest Data: {{ data.latest_data }}m
                                </p>
                                <div
                                  class="flex items-center justify-left"
                                  *ngIf="
                                    data.latest_data <= '0' ||
                                    data.latest_data <= '0.5'
                                  "
                                >
                                  <div
                                    class="
                                      text-yellow-400
                                      bg-yellow-200
                                      py-1
                                      px-2
                                      rounded
                                      text-xs
                                      leading-3
                                      mt-2
                                      pl-2
                                    "
                                  >
                                    Low (0 - 0.5m)
                                  </div>
                                </div>
                                <div
                                  class="flex items-center justify-left"
                                  *ngIf="
                                    data.latest_data >= '0.6' ||
                                    data.latest_data >= '1.5'
                                  "
                                >
                                  <div
                                    class="
                                      text-yellow-600
                                      bg-yellow-400
                                      py-1
                                      px-2
                                      rounded
                                      text-xs
                                      leading-3
                                      mt-2
                                      pl-2
                                    "
                                  >
                                    Medium (0.5 - 1.5m)
                                  </div>
                                </div>
                                <div
                                  class="flex items-center justify-left"
                                  *ngIf="
                                    data.latest_data >= '1.6' ||
                                    data.latest_data >= '2'
                                  "
                                >
                                  <div
                                    class="
                                      text-red-600
                                      bg-red-400
                                      py-1
                                      px-2
                                      rounded
                                      text-xs
                                      leading-3
                                      mt-2
                                      pl-2
                                    "
                                  >
                                    High (1.5m +)
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>

                          <!-- MOBILE VIEW -->
                        </div>
                      </ng-template>
                    </div>
                  </article>
                  <!-- TAB SECTION FOR RAIN -->
                  <article class="tab-rain">
                    <input
                      type="radio"
                      name="tab-indicator"
                      id="select-rain"
                      class="tab-indicator"
                    />
                    <div class="tab-content">
                      <ng-container *ngIf="loading; else dataSummaryRain">
                        <div tabindex="0" class="justify-center">
                          <div
                            class="shadow-xl w-full z-10 overflow-hidden"
                            style="max-width: 1000px"
                          >
                            <div class="md:flex w-full">
                              <div class="w-full py-10 px-5 md:px-10">
                                <div class="flex justify-center gap-x-4 mb-4">
                                  <div
                                    class="
                                      flex
                                      items-center
                                      justify-center
                                      bottom-0
                                    "
                                  >
                                    <div
                                      class="
                                        w-14
                                        h-14
                                        border-t-4 border-b-4 border-black
                                        rounded-full
                                        animate-spin
                                        absolute
                                      "
                                    ></div>
                                    <img
                                      src="assets/icons/logo-noah.svg"
                                      class="w-10 h-10 animate-none"
                                      fill="none"
                                    />
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </ng-container>
                      <ng-template #dataSummaryRain>
                        <div class="mt-2">
                          <div
                            class="
                              overflow-auto
                              rounded-lg
                              shadow
                              hidden
                              lg:block
                            "
                          >
                            <table class="w-full b-4">
                              <thead
                                class="bg-gray-50 border-b-2 border-gray-200"
                              >
                                <tr>
                                  <th
                                    class="
                                      p-3
                                      text-sm
                                      font-semibold
                                      tracking-wide
                                      text-left
                                    "
                                    *ngFor="let col of columns"
                                  >
                                    <div
                                      (click)="sortedColumn = col.key"
                                      class="cursor-pointer inline-flex"
                                    >
                                      {{ col.header }}
                                      <svg
                                        xmlns="http://www.w3.org/2000/svg"
                                        class="mr-1 h-5 w-5 text-left"
                                        viewBox="0 0 20 20"
                                        fill="currentColor"
                                      >
                                        <path
                                          d="M3 3a1 1 0 000 2h11a1 1 0 100-2H3zM3 7a1 1 0 000 2h5a1 1 0 000-2H3zM3 11a1 1 0 100 2h4a1 1 0 100-2H3zM13 16a1 1 0 102 0v-5.586l1.293 1.293a1 1 0 001.414-1.414l-3-3a1 1 0 00-1.414 0l-3 3a1 1 0 101.414 1.414L13 10.414V16z"
                                        />
                                      </svg>
                                    </div>
                                  </th>
                                </tr>
                              </thead>
                              <tbody class="divide-y divide-gray-100">
                                <tr
                                  class="hover:bg-gray-100 bg-white"
                                  *ngFor="
                                    let data of rainSummaryData
                                      | sort: sortedColumn
                                      | searchfilter: searchValue
                                  "
                                >
                                  <td
                                    class="
                                      p-3
                                      text-sm text-gray-700
                                      whitespace-nowrap
                                    "
                                  >
                                    {{ data.name }}
                                  </td>
                                  <td
                                    class="
                                      p-3
                                      text-sm text-gray-700
                                      whitespace-nowrap
                                      first-letter:capitalize
                                    "
                                  >
                                    {{ data.iot_type }}
                                  </td>

                                  <td
                                    class="
                                      p-3
                                      text-sm text-gray-700
                                      whitespace-nowrap
                                    "
                                  >
                                    <div *ngIf="data.latest_date == null">
                                      N/A
                                    </div>
                                    <div
                                      *ngIf="
                                        data.latest_date == data.latest_date
                                      "
                                    >
                                      {{
                                        data.latest_date
                                          | date: 'medium':'+0000'
                                      }}
                                    </div>
                                  </td>

                                  <td
                                    class="
                                      p-3
                                      text-sm text-gray-700
                                      whitespace-nowrap
                                      text-center
                                      justify-center
                                    "
                                  >
                                    <ng-container
                                      *ngIf="
                                        data.latest_data == null;
                                        else showRain
                                      "
                                    >
                                      <div>N/A</div>
                                    </ng-container>
                                    <ng-template #showRain>
                                      <div *ngIf="data.iot_type == 'rain'">
                                        {{ data.latest_data }}mm
                                      </div>
                                    </ng-template>
                                  </td>

                                  <td
                                    class="
                                      p-3
                                      text-sm text-gray-700
                                      whitespace-nowrap
                                    "
                                  >
                                    <div *ngIf="data.latest_data == null">
                                      N/A
                                    </div>

                                    <div
                                      *ngIf="
                                        data.latest_data == '0' &&
                                        data.latest_data <= '0.5'
                                      "
                                    >
                                      <span
                                        class="
                                          p-1.5
                                          text-xs
                                          font-medium
                                          uppercase
                                          tracking-wider
                                          text-black
                                          bg-low
                                          rounded-lg
                                        "
                                        >Low (0 - 0.5m)</span
                                      >
                                    </div>
                                    <div
                                      *ngIf="
                                        data.latest_data >= '0.6' &&
                                        data.latest_data >= '1.5'
                                      "
                                    >
                                      <span
                                        class="
                                          p-1.5
                                          text-xs
                                          font-medium
                                          uppercase
                                          tracking-wider
                                          text-black
                                          bg-medium
                                          rounded-lg
                                        "
                                        >Medium (0.6 - 1.5m)</span
                                      >
                                    </div>
                                    <div
                                      *ngIf="
                                        data.latest_data >= '1.6' &&
                                        data.latest_data <= '2'
                                      "
                                    >
                                      <span
                                        class="
                                          p-1.5
                                          text-xs
                                          font-medium
                                          uppercase
                                          tracking-wider
                                          text-black
                                          bg-high
                                          rounded-lg
                                        "
                                      >
                                        High (1.6m +)
                                      </span>
                                    </div>
                                  </td>
                                  <td
                                    class="
                                      p-3
                                      text-sm text-gray-700
                                      whitespace-nowrap
                                      first-letter:capitalize
                                    "
                                  >
                                    {{ data.status }}
                                  </td>
                                </tr>
                              </tbody>
                            </table>
                          </div>
                          <noah-pagination
                            class="hidden lg:block"
                            [allPagesNumber]="rainAllPages"
                            (changePage)="onPageChange($event)"
                          ></noah-pagination>
                          <!-- MOBILE VIEW -->
                          <div
                            class="
                              z-10
                              pl-2
                              h-12
                              w-36
                              flex flex-row
                              py-1
                              lg:hidden
                            "
                          >
                            <div class="p-2">
                              <div class="dropdown inline-block relative">
                                <button
                                  class="
                                    bg-gray-200
                                    text-gray-800
                                    font-semibold
                                    py-1
                                    px-1
                                    ml-2
                                    rounded
                                    inline-flex
                                    items-center
                                    hover:bg-gray-200
                                    focus:outline-none
                                    focus:ring-2
                                    focus:ring-gray-600
                                    focus:ring-opacity-50
                                  "
                                >
                                  Sort By:
                                </button>
                                <ul
                                  class="
                                    dropdown-menu
                                    z-50
                                    rounded-lg
                                    drop-shadow-xl
                                    bg-white
                                    left-20
                                    top-0
                                    absolute
                                    hidden
                                    text-sm text-gray-700
                                    w-32
                                    h-48
                                    overflow-y-auto
                                  "
                                >
                                  <li class="w-32" *ngFor="let col of columns">
                                    <a
                                      class="
                                        rounded-lg
                                        block
                                        px-4
                                        py-2
                                        text-sm
                                        leading-5
                                        text-gray-700
                                        transition
                                        duration-150
                                        ease-in-out
                                        hover:bg-gray-100
                                        focus:outline-none focus:bg-gray-100
                                      "
                                      (click)="sortedColumn = col.key"
                                      role="button"
                                      >{{ col.mobileHeader }}</a
                                    >
                                  </li>
                                </ul>
                              </div>
                            </div>
                          </div>

                          <div
                            class="
                              items-center
                              justify-center
                              py-2
                              px-3
                              lg:hidden
                              grid grid-cols-1
                              h-96
                              overflow-y-auto
                              sm:grid-cols-2
                              gap-4
                            "
                          >
                            <div
                              class="
                                md:w-96
                                rounded-md
                                drop-shadow-2xl
                                py-4
                                px-5
                                w-full
                                bg-white
                              "
                              *ngFor="
                                let data of rainSummaryData
                                  | sort: sortedColumn
                                  | searchfilter: searchValue
                              "
                            >
                              <h1
                                class="
                                  text-lg
                                  font-bold
                                  text-gray-800
                                  leading-5
                                  pt-2
                                "
                              >
                                {{ data.name }}
                              </h1>
                              <div class="pt-2 relative">
                                <div class="flex items-center justify-between">
                                  <div class="flex items-center">
                                    <div
                                      class="w-2 h-2 rounded-full bg-blue-500"
                                    ></div>
                                    <span
                                      class="
                                        text-blue-500 text-xs
                                        italic
                                        font-normal
                                        pl-1
                                      "
                                    >
                                      {{
                                        data.latest_date
                                          | date: 'medium':'+0000'
                                      }}
                                    </span>
                                  </div>
                                </div>
                                <p
                                  class="
                                    text-sm
                                    leading-none
                                    pt-2
                                    text-gray-600
                                    first
                                    capitalize
                                  "
                                >
                                  Sensor Type: {{ data.iot_type }}
                                </p>
                                <p
                                  class="
                                    text-xs
                                    italic
                                    pt-1
                                    leading-3
                                    text-gray-400
                                  "
                                >
                                  Latest Data: {{ data.latest_data }}mm
                                </p>
                                <div
                                  class="flex items-center justify-left"
                                  *ngIf="
                                    data.latest_data <= '0' ||
                                    data.latest_data <= '0.5'
                                  "
                                >
                                  <div
                                    class="
                                      text-yellow-400
                                      bg-yellow-200
                                      py-1
                                      px-2
                                      rounded
                                      text-xs
                                      leading-3
                                      mt-2
                                      pl-2
                                    "
                                  >
                                    Low (0 - 0.5m)
                                  </div>
                                </div>
                                <div
                                  class="flex items-center justify-left"
                                  *ngIf="
                                    data.latest_data >= '0.6' ||
                                    data.latest_data >= '1.5'
                                  "
                                >
                                  <div
                                    class="
                                      text-yellow-600
                                      bg-yellow-400
                                      py-1
                                      px-2
                                      rounded
                                      text-xs
                                      leading-3
                                      mt-2
                                      pl-2
                                    "
                                  >
                                    Medium (0.5 - 1.5m)
                                  </div>
                                </div>
                                <div
                                  class="flex items-center justify-left"
                                  *ngIf="
                                    data.latest_data >= '1.6' ||
                                    data.latest_data >= '2'
                                  "
                                >
                                  <div
                                    class="
                                      text-red-600
                                      bg-red-400
                                      py-1
                                      px-2
                                      rounded
                                      text-xs
                                      leading-3
                                      mt-2
                                      pl-2
                                    "
                                  >
                                    High (1.5m +)
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>

                          <!-- MOBILE VIEW -->
                        </div>
                      </ng-template>
                    </div>
                  </article>
                </section>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- alert -->
<div
  class="
    min-w-screen
    h-screen
    animated
    fadeIn
    faster
    fixed
    left-0
    top-0
    flex
    justify-center
    items-center
    inset-0
    z-50
    outline-none
    focus:outline-none
    bg-no-repeat bg-center bg-cover
  "
  *ngIf="alertSummary"
>
  <!--content-->
  <div class="min-w-screen min-h-screen flex items-center z-40 justify-center">
    <div
      class="
        flex
        items-center
        justify-center
        fixed
        left-0
        bottom-0
        w-full
        h-full
      "
    >
      <div
        id="modal"
        class="
          container
          mx-auto
          flex
          justify-center
          items-center
          px-4
          md:px-10
          py-12
        "
      >
        <div
          class="absolute top-0 flex items-center z-10 justify-center px-5 py-5"
        >
          <div
            class="flex bg-yellow-200 rounded-lg p-4 mb-4 text-sm text-red-700"
            role="alertModal"
          >
            <div class="sm:flex items-center">
              <div class="flex items-end">
                <div class="mr-2 mt-0.5 sm:mt-0 text-yellow-500">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 24 24"
                    width="22"
                    height="22"
                    fill="currentColor"
                  >
                    <path
                      class="heroicon-ui"
                      d="M12 2a10 10 0 1 1 0 20 10 10 0 0 1 0-20zm0 2a8 8 0 1 0 0 16 8 8 0 0 0 0-16zm0 9a1 1 0 0 1-1-1V8a1 1 0 0 1 2 0v4a1 1 0 0 1-1 1zm0 4a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"
                    />
                  </svg>
                </div>
                <p class="mr-2 text-base font-bold text-yellow-500">Warning</p>
              </div>
              <div
                class="h-1 w-1 bg-yellow-500 rounded-full mr-2 hidden xl:block"
              ></div>
              <p class="text-base text-black font-bold">
                Unable to fetch Quezon City Summary Data
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- alert -->
