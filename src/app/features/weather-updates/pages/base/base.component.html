<div class="md:hidden">
  <div
    class="
      px-6
      md:px-8
      py-4
      lg:py-2
      flex
      items-center
      bg-white
      shadow
      sticky
      top-0
      lg-hidden
      overflow-y-auto
      z-40
    "
  >
    <a
      class="
        toggleColour
        no-underline
        hover:no-underline
        font-bold
        text-2xl
        lg:text-4xl
      "
    >
      <div class="grid grid-cols-[auto,1fr] max-w-xs items-center relative">
        <!-- First Column: Logo -->
        <div class="col-span-1" routerLink="/">
          <img src="assets/icons/logo-noah.svg" class="z-50 w-16 lg:w-20" />
        </div>

        <!-- Second Column: Text -->
        <div class="col-span-1">
          <img
            src="assets/icons/noah_text.png"
            class="z-50 w-full h-auto object-contain pl-2"
          />
        </div>
      </div>
    </a>
  </div>

  <!-- NOTES
  <noah-rainfall-contour-button></noah-rainfall-contour-button> -->
  <swiper
    *ngIf="initialSlide !== null"
    #swiperRef
    [pagination]="true"
    [navigation]="false"
    [spaceBetween]="16"
    [initialSlide]="initialSlide"
    (slideChange)="onSlideChange(swiperRef)"
  >
    <!-- Slide 0: Rainfall -->
    <ng-template swiperSlide>
      <section class="px-6 md:px-8 py-0">
        <p class="mt-3 italic text-xs tracking-wide">
          <span class="font-bold">Tip:</span> You may drag the pin to change the
          location.
        </p>
      </section>
      <section class="px-6 md:px-8">
        <header class="text-md sm:text-lg font-bold leading-tight mt-2 pb-2">
          Accumulated Rainfall in Your Area
        </header>
      </section>
      <noah-rainfall-contour-button></noah-rainfall-contour-button>
      <!-- <noah-rainfall-contour-button-mobile></noah-rainfall-contour-button-mobile> -->
    </ng-template>

    <!-- Slide 1: Typhoon -->
    <ng-template swiperSlide>
      <section class="px-6 md:px-8">
        <noah-typhoon-track-group></noah-typhoon-track-group>
      </section>
    </ng-template>
  </swiper>

  <!-- Custom Swiper Navigation Buttons fixed to the bottom of the viewport -->
  <div
    class="
      fixed
      left-0
      right-0
      bottom-0
      flex
      bg-white
      justify-between
      p-0
      z-50
      md:hidden
    "
  >
    <button class="p-2" (click)="slidePrev()">
      <svg
        class="text-blue-700"
        width="24"
        height="24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
        viewBox="0 0 24 24"
      >
        <path d="M15 18l-6-6 6-6" />
      </svg>
    </button>
    <button class="p-2" (click)="slideNext()">
      <svg
        class="text-blue-700"
        width="24"
        height="24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
        viewBox="0 0 24 24"
      >
        <path d="M9 6l6 6-6 6" />
      </svg>
    </button>
  </div>
</div>

<!-- Desktop view  -->
<div class="hidden md:block">
  <div
    class="
      sticky
      top-0
      z-50
      px-6
      md:px-8
      py-4
      lg:py-2
      flex
      items-center
      bg-white
      shadow
    "
  >
    <a
      class="
        toggleColour
        no-underline
        hover:no-underline
        font-bold
        text-2xl
        lg:text-4xl
      "
      routerLink="/"
    >
      <div class="flex max-w-xs items-center">
        <img src="assets/icons/noah_logo.png" class="z-50 w-16 lg:w-20" />
        <img src="assets/icons/noah_text.png" class="z-50 h-10 pl-2" />
      </div>
    </a>
  </div>

  <noah-search
    [searchTerm]="currentLocation$ | async"
    (selectPlace)="selectPlace($event)"
    class="
      px-12
      md:px-8
      w-full
      py-4
      md:py-2
      block
      md:relative
      absolute
      top-0
      shadow-sm
    "
  >
  </noah-search>
  <div class="max-h-[87vh] overflow-y-auto">
    <section class="px-6 md:px-8 py-0">
      <p class="mt-3 italic text-xs tracking-wide">
        <span class="font-bold">Tip:</span> You may drag the pin to change the
        location.
      </p>
    </section>

    <!-- KYH -->
    <section class="px-6 md:px-8">
      <header class="text-lg font-bold leading-tight mt-5 pb-2">
        Accumulated Rainfall in Your Area
      </header>

      <noah-rainfall-contour-button></noah-rainfall-contour-button>

      <header class="text-2xl font-bold leading-tight">More Options</header>
      <noah-typhoon-track-group class="mb-5"></noah-typhoon-track-group>
    </section>
  </div>
</div>
