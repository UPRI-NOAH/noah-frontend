<div class="top-0 fixed z-10 left-0 h-16 w-auto">
  <a class="flex max-w-xs p-2 items-center" routerLink="/">
    <img
      class="w-20 h-auto"
      src="assets/icons/logo-noah.png"
      alt="Project NOAH"
    />
  </a>
</div>
<div class="relative w-full flex flex-wrap min-h-screen">
  <!-- Small screen search -->
  <div class="fixed inset-0 w-full md:w-9/12 flex justify-center items-center">
    <noah-search
      [searchTerm]="searchTerm"
      (selectPlace)="selectPlace($event)"
      class="
        md:invisible
        sm:visible
        absolute
        inset-x-0
        top-2
        flex
        items-center
        justify-center
      "
    ></noah-search>
    <noah-map-kyh></noah-map-kyh>
  </div>
  <!-- end -->

  <div class="pt-96 flex w-full md:px-0 md:py-0 static">
    <div
      class="
        lg:w-1/4
        md:w-1/4
        sm:w-full
        min-h-screen
        sm:rounded
        lg:rounded-none
        bg-white
        p-8
        flex flex-col
        md:ml-auto
        relative
        z-10
      "
    >
      <!-- KNOW-YOUR-HAZARDS -->
      <ng-container *ngIf="isKYHPage$ | async; else hazardTemplate">
        <noah-search
          [searchTerm]="searchTerm"
          (selectPlace)="selectPlace($event)"
          class="invisible md:visible"
        >
        </noah-search>
        <div>
          <h4 class="text-2xl font-bold leading-tight mt-6 pb-2">
            Hazard Levels In Your Area
          </h4>
          <div class="pt-4">
            <div
              class="
                flex flex-col
                p-2
                bg-white
                shadow-md
                hover:shodow-lg
                rounded-2xl
                hover:bg-blue-300
              "
              (click)="viewHazardLayer('flood')"
              id="menu"
              role="button"
            >
              <div class="flex items-center justify-between">
                <div class="flex items-center">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="
                      w-16
                      h-16
                      rounded-2xl
                      p-3
                      border border-blue-100
                      text-blue-400
                      bg-blue-50
                    "
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
                    ></path>
                  </svg>
                  <div class="flex flex-col ml-3">
                    <div class="font-bold leading-none" role="button">
                      Flood Hazard Level
                    </div>
                    <p
                      class="uppercase font-bold text-xl leading-none mt-2"
                      role="button"
                      [ngClass]="'text-' + (floodRiskLevel$ | async)"
                    >
                      {{ floodRiskLevel$ | async }}
                    </p>
                  </div>
                </div>
                <p class="text-sm w-4 text-gray-600 leading-none mt-1">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 1000 1000"
                  >
                    <path
                      d="M283.7 10l-58.4 58.4L656 500 225.3 931.6l58.4 58.4 491-490-491-490z"
                    />
                  </svg>
                </p>
              </div>
            </div>
          </div>

          <div class="pt-4">
            <div
              class="
                flex flex-col
                p-2
                bg-white
                shadow-md
                hover:shodow-lg
                rounded-2xl
                hover:bg-blue-300
              "
              (click)="viewHazardLayer('landslide')"
              id="menu"
              role="button"
            >
              <div class="flex items-center justify-between">
                <div class="flex items-center">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="
                      w-16
                      h-16
                      rounded-2xl
                      p-3
                      border border-blue-100
                      text-blue-400
                      bg-blue-50
                    "
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
                    ></path>
                  </svg>
                  <div class="flex flex-col ml-3">
                    <div class="font-bold leading-none" role="button">
                      Landslide Hazard Level
                    </div>
                    <p
                      class="uppercase font-bold text-xl leading-none mt-2"
                      role="button"
                      [ngClass]="'text-' + (landslideRiskLevel$ | async)"
                    >
                      {{ landslideRiskLevel$ | async }}
                    </p>
                  </div>
                </div>
                <p class="text-sm w-4 text-gray-600 leading-none mt-1">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 1000 1000"
                  >
                    <path
                      d="M283.7 10l-58.4 58.4L656 500 225.3 931.6l58.4 58.4 491-490-491-490z"
                    />
                  </svg>
                </p>
              </div>
            </div>
          </div>

          <div class="pt-4">
            <div
              class="
                flex flex-col
                p-2
                bg-white
                shadow-md
                hover:shodow-lg
                rounded-2xl
                hover:bg-blue-300
              "
              (click)="viewHazardLayer('storm-surge')"
              id="menu"
              role="button"
            >
              <div class="flex items-center justify-between">
                <div class="flex items-center">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="
                      w-16
                      h-16
                      rounded-2xl
                      p-3
                      border border-blue-100
                      text-blue-400
                      bg-blue-50
                    "
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
                    ></path>
                  </svg>
                  <div class="flex flex-col ml-3">
                    <div class="font-bold leading-none" role="button">
                      Storm Surge Hazard Level
                    </div>
                    <p
                      class="uppercase font-bold text-xl leading-none mt-2"
                      role="button"
                      [ngClass]="'text-' + (stormSurgeRiskLevel$ | async)"
                    >
                      {{ stormSurgeRiskLevel$ | async }}
                    </p>
                  </div>
                </div>
                <p class="text-sm w-4 text-gray-600 leading-none mt-1">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 1000 1000"
                  >
                    <path
                      d="M283.7 10l-58.4 58.4L656 500 225.3 931.6l58.4 58.4 491-490-491-490z"
                    />
                  </svg>
                </p>
              </div>
            </div>
          </div>
          <p class="m-6">
            These hazard levels are based on our satellite and historical data.
            If you’re in the <b class="text-high">“red”</b> zone of a particular
            hazard, that means you’re highly susceptible to that hazard.
          </p>
          <noah-critical-facilities-kyh></noah-critical-facilities-kyh>
        </div>
      </ng-container>
      <!-- <router-outlet></router-outlet> -->
    </div>
  </div>
</div>

<ng-template #hazardTemplate>
  <!-- FLOODING -->
  <noah-flood-kyh *ngIf="isFlood$ | async"></noah-flood-kyh>

  <!-- LANDSLIDE -->
  <noah-landslide-kyh *ngIf="isLandSlide$ | async"></noah-landslide-kyh>

  <!-- STORMSURGE -->
  <noah-storm-surge-kyh *ngIf="isStormSurge$ | async"></noah-storm-surge-kyh>
</ng-template>
