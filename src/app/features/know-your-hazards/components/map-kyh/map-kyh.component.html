<div class="absolute top-0 left-0 w-full h-full" id="map-kyh"></div>

<noah-change-style-button
  class="absolute map-icon right-0.5 p-2"
  [selectedStyle]="mapStyle"
  (selectedStyleChange)="switchMapStyle($event)"
></noah-change-style-button>
<pre id="coordinates" class="coords"></pre>

<div class="md:hidden flex items-center absolute w-full space-x-2 p-2 top-0">
  <!-- Back Button -->
  <button
    routerLink="/"
    class="
      w-10
      h-10
      rounded-full
      bg-white
      flex
      items-center
      justify-center
      shadow
    "
  >
    <svg
      xmlns="http://www.w3.org/2000/svg"
      class="h-5 w-5"
      fill="none"
      viewBox="0 0 24 24"
      stroke="currentColor"
    >
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="2"
        d="M10 19l-7-7m0 0l7-7m-7 7h18"
      />
    </svg>
  </button>

  <!-- Search Input Container -->
  <div class="flex items-center bg-white rounded-full shadow flex-1 max-w-3xl">
    <noah-search
      [searchTerm]="currentLocation$ | async"
      (selectPlace)="selectPlace($event)"
      class="flex-1"
    >
    </noah-search>
  </div>
</div>

<button
  class="
    opacity-80
    bg-white
    text-gray-800
    font-bold
    py-1
    px-1
    ml-2
    items-end
    absolute
    justify-end
    md:bottom-8
    bottom-96
    md:mb-0
    mb-2
    right-0
    rounded
    hover:bg-gray-200
    focus:outline-none focus:ring-2 focus:ring-gray-600 focus:ring-opacity-50
    mr-2
    sm:text-sm
    text-xs
    hidden
    md:block
  "
  (click)="openLegend()"
  *ngIf="btnLegend"
>
  Legend
</button>

<div
  class="
    absolute
    md:bottom-8 md:end-0
    bottom-96
    mt-10
    mr-2
    items-end
    right-0
    hidden
    md:block
  "
  *ngIf="kyhLegend"
>
  <div class="flex items-center justify-center">
    <div class="rounded shadow-lg py-3 px-4 bg-white bg-opacity-80">
      <div
        class="
          cursor-pointer
          absolute
          -top-3.5
          -right-3
          mb-2
          mt-2
          mr-2
          dark:text-gray-100
          text-black
          transition
          duration-150
          ease-in-out
          rounded-xl
          bg-gray-200
          hover:bg-gray-400
        "
        (click)="openLegend()"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="20"
          height="20"
          class="icon icon-tabler icon-tabler-x pt-0.5"
          viewBox="0 0 700 700"
          stroke-width="2.5"
          stroke="currentColor"
          stroke-linecap="round"
          stroke-linejoin="round"
        >
          <path d="M490 294H210a14 14 0 0 1 0-28h280a14 14 0 0 1 0 28z" />
        </svg>
      </div>
      <h1 class="text-sm font-bold leading-3 mt-2 text-gray-800">
        Hazard Level
      </h1>
      <div class="">
        <div class="flex items-center justify-between pt-3">
          <div class="flex items-center">
            <div class="xl:w-6 xl:h-6 h-2 w-2 bg-low"></div>
            <p class="text-xs leading-3 text-low pl-2">Low</p>
          </div>
        </div>
        <div class="flex items-center justify-between pt-3">
          <div class="flex items-center">
            <div class="xl:w-6 xl:h-6 h-2 w-2 bg-medium"></div>

            <p class="text-xs leading-3 text-medium pl-2">Medium</p>
          </div>
        </div>
        <div class="flex items-center justify-between pt-3">
          <div class="flex items-center">
            <div class="xl:w-6 xl:h-6 h-2 w-2 bg-high"></div>
            <p class="text-xs leading-3 text-high pl-2">High</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
